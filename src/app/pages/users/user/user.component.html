<div class="card">
    <div class="card-header"><h3><span *ngIf="!flagData">AGREGAR </span><span *ngIf="flagData">EDITAR </span>USUARIO</h3></div>
    <div class="card-body">
        <form [formGroup]="Fform" (ngSubmit)="addUser()" class="ngx-form m-t-5" novalidate> 
            <div class="form-row"><!-- save(Fform)-->
                <div class=" form-group col-md-4 mb-3">
                    <label class="control-label" for="name">Nombre</label>
                    <input type="text" formControlName="name" name="name" class="form-control" placeholder="Juan">
                    <div *ngIf="f.name.invalid && (f.name.dirty || f.name.touched)"
                        class="alert">
                        <div *ngIf="f.name.errors.required">
                            El campo es obligatorio.
                        </div>
                    </div>
                </div>
                <div class=" form-group col-md-4 mb-3">
                    <label class="control-label" for="middle">Segundo Nombre</label>
                    <input type="text" formControlName="middle" name="middle" class="form-control" placeholder="Jose">
                </div>
                <div class=" form-group col-md-4 mb-3">
                    <label class="control-label" for="lastname">Apellido</label>
                    <input type="text" formControlName="lastname" name="lastname" class="form-control" placeholder="Solis">
                    <div *ngIf="f.lastname.invalid && (f.lastname.dirty || f.lastname.touched)"
                        class="alert">
                        <div *ngIf="f.lastname.errors.required">
                            El campo es obligatorio.
                        </div>
                    </div>
                </div>
                
            </div>
            <div class="form-group" >
                <div class="form-row ">
                    <div class="form-group col-md-4 mb-3">
                        <label class="control-label" for="rol">Rol</label>
                        <select class="form-control" id="rol" #role formControlName="rol">
                            <option disabled [value]="null">Selecciona un Rol</option>
                            <option *ngFor="let p of roles" [value]="p">{{ p }}</option>
                        </select>
                        <div *ngIf="f.rol.invalid && (f.rol.dirty || f.rol.touched)" class="alert">
                            <div *ngIf="f.rol.errors.required">
                                El campo es obligatorio.
                            </div>
                        </div>
                    </div>
                    <div *ngIf="role.value ==='Admin'" class="form-group col-md-4 mb-3">
                        <label  for="business">Empresa</label>
                        <input type="text" formControlName="business" class="form-control" 
                          placeholder="Asistemps">
                        <div
                          *ngIf="f.business.invalid && (f.business.dirty || f.business.touched)"
                          class="alert">
                          <div *ngIf="f.business.errors.required">
                            El campo es obligatorio.</div>
                        </div>
                    </div>
                </div>
            </div> 
            <div class="form-group" >
                <div class="form-row ">
                    <div class="form-group col-md-4 mb-3">
                        <label class="control-label" for="email">Correo</label>
                        <input type="email" formControlName="email" name="email" class="form-control" placeholder="juan_solis@gmail.com">
                        <div *ngIf="f.email.invalid && (f.email.dirty || f.email.touched)"
                            class="alert">
                            <div *ngIf="f.email.errors.required">
                                El campo es obligatorio.
                            </div>
                            <div *ngIf="f.email.errors?.pattern">
                                Correo no valido.
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-4 mb-3">
                        <label  for="f1-password">Password</label>
                        <input type="text" formControlName="password" class="form-control" autocomplete="off"
                          placeholder="Solis58">
                        <div
                          *ngIf="f.password.invalid && (f.password.dirty || f.password.touched)"
                          class="alert">
                          <div *ngIf="f.password.errors.required">
                            El campo es obligatorio.</div>
                          <div *ngIf="f.password.errors?.minlength"> La contrase単a debe de ser de minimo 6 caracteres.</div>
                        </div>
                      </div>
                   <!-- <div class="form-group col-md-4 mb-3">
                        <label  for="f1-repeat-password">Repetir Contrase単a</label>
                        <input type="password" formControlName="confirmPassword" class="form-control" autocomplete="off"
                          placeholder="Repetir Contrase単a">
                        <div
                          *ngIf="Fform.controls['confirmPassword'].invalid && (Fform.controls['confirmPassword'].dirty || Fform.controls['confirmPassword'].touched)"
                          class="alert">
                          <div *ngIf="Fform.controls['confirmPassword'].errors.required">
                            El campo es obligatorio.</div>
                          <div *ngIf="Fform.controls['confirmPassword'].errors?.mustMatch">
                            La contrase単a no coinciden.
                          </div>
                        </div>
                      </div>-->
                </div>
            </div>    
            <div class=" form-row m-b-15 ">
                <div class="form-gropup">
                    <label class="control-label">Subir fotografia del usuario</label>
                    <app-img-upload-s groupName="photography" (fileInfo)="setPhotography($event)"></app-img-upload-s>
                </div>
            </div>
            <div class="form-group f1-buttons">
                <button class="btn btn-primary btn-next" type="submit" [disabled]="!Fform.valid" >Registrar Usuario</button>
            </div>
        </form>
        <!-- <hr>
        <pre>
            estado del formulario : {{Fform.valid}}
            <br>
            status : {{Fform.status}}
        </pre>
        <pre>
            {{Fform.value | json}}
        </pre> -->
    </div>
</div>


