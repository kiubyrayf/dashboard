<form [formGroup]="payForm" (ngSubmit)="addEmpresa()" class="ngx-form" novalidate>
    <div class="form-group" formGroupName="servicesPrice">
      <h5>Precios</h5>
      <div class="form-row ">
        <div class="col-md-3 mb-3">
            <label class="control-label" for="foreign">Foreaneo</label>
            <input type="text" formControlName="foreign" class="form-control" placeholder="50.00">

            <div *ngIf="f.servicesPrice.get('foreign').invalid && (f.servicesPrice.get('foreign').dirty || f.servicesPrice.get('foreign').touched)" class="alert">
              <div *ngIf="f.servicesPrice.get('foreign').errors.required">
                El campo es obligatorio.
              </div>
              <div *ngIf="f.servicesPrice.get('foreign').errors?.pattern">
                El campo debe ser monetario.
              </div>
            </div>
        </div>
        <div class="col-md-3 mb-3">
          <label class="control-label" for="local">Local</label>
          <input type="text" formControlName="local" class="form-control" placeholder="30.00">

          <div *ngIf="f.servicesPrice.get('local').invalid && (f.servicesPrice.get('local').dirty || f.servicesPrice.get('local').touched)" class="alert">
              <div *ngIf="f.servicesPrice.get('local').errors.required">
                El campo es obligatorio.
              </div>
              <div *ngIf="f.servicesPrice.get('local').errors?.pattern">
                El campo debe ser monetario.
              </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <label class="control-label" for="viaticForeign">Viatico Foraneo</label>
          <input type="text" formControlName="viaticForeign" class="form-control" placeholder="1000.00">

          <div *ngIf="f.servicesPrice.get('viaticForeign').invalid && (f.servicesPrice.get('viaticForeign').dirty || f.servicesPrice.get('viaticForeign').touched)" class="alert">
              <div *ngIf="f.servicesPrice.get('viaticForeign').errors.required">
                El campo es obligatorio.
              </div>
              <div *ngIf="f.servicesPrice.get('viaticForeign').errors?.pattern">
                El campo debe ser monetario.
              </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <label class="control-label" for="viaticLocal">Viatico Local</label>
          <input type="text" formControlName="viaticLocal" class="form-control" placeholder="58.52">

          <div *ngIf="f.servicesPrice.get('viaticLocal').invalid && (f.servicesPrice.get('viaticLocal').dirty || f.servicesPrice.get('viaticLocal').touched)" class="alert">
              <div *ngIf="f.servicesPrice.get('viaticLocal').errors.required">
                El campo es obligatorio.
              </div>
              <div *ngIf="f.servicesPrice.get('viaticLocal').errors?.pattern">
                El campo debe ser monetario.
              </div>
          </div>
      </div>
      </div>
      <div class="form-row ">
        
        <div class="col-md-3 mb-3">
          <label class="control-label" for="visitNotRealized">Visita No Realizada</label>
          <input type="text" formControlName="visitNotRealized" class="form-control" placeholder="60.80">

          <div *ngIf="f.servicesPrice.get('visitNotRealized').invalid && (f.servicesPrice.get('visitNotRealized').dirty || f.servicesPrice.get('visitNotRealized').touched)" class="alert">
              <div *ngIf="f.servicesPrice.get('visitNotRealized').errors.required">
                El campo es obligatorio.
              </div>
              <div *ngIf="f.servicesPrice.get('visitNotRealized').errors?.pattern">
                El campo debe ser monetario.
              </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <label class="control-label" for="visitRealized">Visita Realizada</label>
          <input type="text" formControlName="visitRealized" class="form-control" placeholder="50.20">
          <div *ngIf="f.servicesPrice.get('visitRealized').invalid && (f.servicesPrice.get('visitRealized').dirty || f.servicesPrice.get('visitRealized').touched)" class="alert">
              <div *ngIf="f.servicesPrice.get('visitRealized').errors.required">
                El campo es obligatorio.
              </div>
              <div *ngIf="f.servicesPrice.get('visitRealized').errors?.pattern">
                El campo debe ser monetario.
              </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <label class="control-label" for="endingPrice">Precio Final</label>
          <input type="text" formControlName="endingPrice" class="form-control" placeholder="45.00">
          <div *ngIf="f.servicesPrice.get('endingPrice').invalid && (f.servicesPrice.get('endingPrice').dirty || f.servicesPrice.get('endingPrice').touched)" class="alert">
              <div *ngIf="f.servicesPrice.get('endingPrice').errors.required">
                El campo es obligatorio.
              </div>
              <div *ngIf="f.servicesPrice.get('endingPrice').errors?.pattern">
                El campo debe ser monetario.
              </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <label class="control-label" for="disscount">Descuento</label>
          <input type="text" formControlName="disscount" class="form-control" placeholder="150.00">
          <div *ngIf="f.servicesPrice.get('disscount').invalid && (f.servicesPrice.get('disscount').dirty || f.servicesPrice.get('disscount').touched)" class="alert">
              <div *ngIf="f.servicesPrice.get('disscount').errors.required">
                El campo es obligatorio.
              </div>
              <div *ngIf="f.servicesPrice.get('disscount').errors?.pattern">
                El campo debe ser monetario.
              </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class=" group-row">
      <div class="col-md-12 mb-5">
          <div class=" m-t-15 m-checkbox-inline mb-0 ml-1 animate-chk">
              <div class="checkbox checkbox-primary">
                  <input id="serviceWarranty" type="checkbox" formControlName="serviceWarranty">
                  <label class="control-label" for="serviceWarranty">Tiene garantia</label>
              </div>
          </div>
      </div>
    </div>
    <div class="form-group row mb-5" >
      <div class="row">
        <label class="col-sm-3 col-form-label">Subir documento de cierre de la empresa</label>
        <div class="col-sm-9">
            <input type="file" class="form-control" formControlName="closingDocument" name="closingDocument" (change)="readFile($event)" multiple="">
            <div *ngIf="f.closingDocument.invalid && (f.closingDocument.dirty || f.closingDocument.touched)"
            class="alert">
                <div *ngIf="f.closingDocument.errors.required">
                    Subir los documentos de cierre es obligatorio.
                </div>
            </div>
            
        </div>
      </div>
      <table *ngIf="flagDataInfo===true" class="table table-xs">
        <thead class="bgColor">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Nombre</th>
                <th scope="col">Archivo</th>
                <th scope="col">Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let cd of businessData.closingDocument; let x=index">
                <th scope="row">{{cd.id}}</th>
                <td> {{cd.name}} </td>
                <td>{{cd.file}}</td>
            </tr>
        </tbody>
    </table>
    </div>
    <div class="f1-buttons">
      <button class="btn btn-primary btn-previous" type="button" awPreviousStep>Anterior</button>
      <button class="btn btn-primary btn-submit" type="submit" [disabled]="!payForm.valid"
        (click)="success()">Guardar
      </button>
    </div>
  </form>
  <hr>
<pre>
    estado del formulario : {{payForm.valid}}
    <br>
    status : {{payForm.status}}
</pre>
<pre>
    {{payForm.value | json}}
</pre>