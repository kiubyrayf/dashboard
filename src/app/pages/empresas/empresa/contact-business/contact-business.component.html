
<form [formGroup]="contactForm" (ngSubmit)="addEmpresa()" class="ngx-form mt-5" novalidate >
    <div formArrayName="contact">
        <div *ngFor="let contact of contactFormGroup; let i = index;">
            <div [formGroupName]="i">
                <!-- Contacts Form controls Here -->
                <h3>Contacto {{i + 1}}</h3>
                <div class="form-row">
                    <div class="col-md-4 mb-3">
                        <label class="control-label" for="paymentPerson">Nombre</label>
                        <input type="text" formControlName="paymentPerson"  class="form-control" formControlName="paymentPerson"  placeholder="Juan Martinez">
                       <div *ngIf="getContactsFormGroup(i).get('paymentPerson').invalid && (getContactsFormGroup(i).get('paymentPerson').dirty || getContactsFormGroup(i).get('paymentPerson').touched)"
                                class="alert"> 
                            <div *ngIf="getContactsFormGroup(i).get('paymentPerson').errors.required">
                                El campo es obligatorio.
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="control-label" for="job">Empleo</label>
                        <input type="text"  class="form-control" formControlName="job"  placeholder="Capturista">
                       <div *ngIf="getContactsFormGroup(i).get('job').invalid && (getContactsFormGroup(i).get('job').dirty || getContactsFormGroup(i).get('job').touched)"
                                class="alert">
                            <div *ngIf="getContactsFormGroup(i).get('job').errors.required">
                                El campo es obligatorio.
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label class="control-label" for="phoneNumber" >Telefono</label>
                        <input type="text"  class="form-control" formControlName="phoneNumber"  placeholder="8855722466">
                        <div *ngIf="getContactsFormGroup(i).get('phoneNumber').invalid && (getContactsFormGroup(i).get('phoneNumber').dirty || getContactsFormGroup(i).get('phoneNumber').touched)"
                            class="alert">
                            <div *ngIf="getContactsFormGroup(i).get('phoneNumber').errors.required">
                                El campo es obligatorio.
                            </div>
                            <div *ngIf="getContactsFormGroup(i).get('phoneNumber').errors?.pattern">
                                El telefono tiene que ser 10 digitos numericos.
                            </div>
                        </div> 
                    </div>
                </div>
                <div class="form-row">
                <div class="col-md-4 mb-3">
                    <label class="control-label" for="email">Correo</label>
                    <input type="email" class="form-control" formControlName="email"  placeholder="juandv@gmail.com">
                    <div *ngIf="getContactsFormGroup(i).get('email').invalid && (getContactsFormGroup(i).get('email').dirty || getContactsFormGroup(i).get('email').touched)"
                                class="alert">
                            <div *ngIf="getContactsFormGroup(i).get('email').errors.required">
                                El campo es obligatorio.
                            </div>
                            <div *ngIf="getContactsFormGroup(i).get('email').errors?.email">
                                 El correo no valido.
                            </div>
                        </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label class="control-label" for="fax">Fax</label>
                    <input type="text" class="form-control" formControlName="fax"  placeholder="4567890">
                </div>
                </div>
                <div class="form-row m-t-25">
                    <div class="m-b-20 col-12">
                        <h6><b>Horario Disponible para Visitas</b></h6>
                    </div>
                   
                    <div class="form-row  col-12" formGroupName="schedule">
                        <div class="form-group col-sm-6 col-md-4 mb-3">
                            <label class="control-label" >Lunes</label>
                            <div class="divceter">
                                <input type="time" class="form-control inlineClock " name="mondayStart" formControlName="mondayStart"   placeholder="12:30">
                                <label class="inlineLabel"> a </label>
                                <input type="time" class="form-control inlineClock" name="mondayEnd"  formControlName="mondayEnd">
                            </div>
                        </div>
                        <div class="form-group col-sm-6  col-md-4 mb-3">
                            <label class="control-label" >Martes</label>
                            <div class="divceter">
                                <input type="time" class="form-control inlineClock" name="tuesdayStart" formControlName="tuesdayStart"  >    
                                <label class="inlineLabel"> a </label>
                                <input type="time" class="form-control inlineClock" name="tuesdayEnd"  formControlName="tuesdayEnd"  >
                            </div>
                        </div>
                        <div class="form-group col-sm-6  col-md-4 mb-3">
                            <label class="control-label" for="">Miercoles</label>
                            <div class="divceter">
                                <input type="time" class="form-control inlineClock" name="wednesdayStart" formControlName="wednesdayStart"  >
                                <label class="inlineLabel"> a </label>
                                <input type="time" class="form-control inlineClock" name="wednesdayEnd"  formControlName="wednesdayEnd"  >
                            </div>
                        </div>
                        <div class="form-group col-sm-6 col-md-4 mb-3">
                            <label class="control-label" for="">Jueves</label>
                            <div class="divceter">
                                <input type="time" class="form-control inlineClock" name="thursdayStart" formControlName="thursdayStart"  >
                                <label class="inlineLabel"> a </label>
                                <input type="time" class="form-control inlineClock" name="thursdayEnd"  formControlName="thursdayEnd"  >
                            </div>
                        </div>
                        <div class="form-group col-sm-6 col-md-4 mb-3">
                            <label class="control-label" for="">Vienes</label>
                            <div class="divceter">
                                <input type="time" class="form-control inlineClock" name="fridayStart" formControlName="fridayStart"  >
                                <label class="inlineLabel"> a </label>
                                <input type="time" class="form-control inlineClock" name="fridayEnd"  formControlName="fridayEnd"  >
                            </div>
                        </div>
                        <div class="form-group col-sm-6 col-md-4 mb-3">
                            <label class="control-label" for="">Sabado</label>
                            <div class="divceter">
                                <input type="time" class="form-control inlineClock" name="saturdayStart" formControlName="saturdayStart"  >
                                <label class="inlineLabel"> a </label>
                                <input type="time" class="form-control inlineClock" name="saturdayEnd"  formControlName="saturdayEnd"  >
                            </div>
                        </div>
                        <div class="form-group col-sm-6 col-md-4 mb-3">
                            <label class="control-label" for="">Domingo</label>
                            <div class="divceter">
                                <input type="time" class="form-control inlineClock" name="sundayStart" formControlName="sundayStart"  >
                                <label class="inlineLabel"> a </label>
                                <input type="time" class="form-control inlineClock" name="sundayEnd"  formControlName="sundayEnd"  >
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-12 text-right">
                        <button class="btn btn-danger" type="button" (click)="removeContact(i)">Eliminar Contacto {{i + 1}} </button>
                    </div>
                </div>
                 
            </div>
             <hr>
        </div>
    </div>
    <div class="form-group f1-buttons">
        <button class="btn btn-primary m-1" type="button" (click)="addContact()">Agregar Contacto </button>
        <button class="btn btn-primary btn-previous" type="button" awPreviousStep>Anterior</button>
        <button class="btn btn-primary btn-next" type="submit" [disabled]="!contactForm.valid" awNextStep>Siguiente</button>
    </div>
</form>

<pre>
    estado del formulario : {{contactForm.valid}}
    <br>
    status : {{contactForm.status}}
</pre>
<pre>
    {{contactForm.value | json}}
</pre>